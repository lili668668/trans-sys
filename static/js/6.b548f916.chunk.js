(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{180:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(157),r=n(153),c=n(181),l=n.n(c);t.a=function(e){var t=e.title,n=e.onClick;return o.a.createElement(i.a,{title:t},o.a.createElement(r.a,{onClick:n},o.a.createElement(l.a,null)))}},183:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(293),r=n(277),c=n(276),l=n(275),s=n(149),u=function(e){var t=e.message,n=e.confirmText,a=e.cancelText,u=e.open,d=e.onClose,m=e.onSubmit,p=e.children;return o.a.createElement(i.a,{open:u,onClose:d},o.a.createElement(l.a,null,t),o.a.createElement("form",{onSubmit:function(e){m(e),e.preventDefault()}},o.a.createElement(c.a,null,p),o.a.createElement(r.a,null,o.a.createElement(s.a,{onClick:d,color:"primary"},a),o.a.createElement(s.a,{type:"submit",color:"primary"},n))))};u.defaultProps={message:"",confirmText:"\u662f\u7684",cancelText:"\u53d6\u6d88"},t.a=u},231:function(e,t,n){"use strict";var a=n(4),o=n(1),i=n(0),r=n.n(i),c=(n(6),n(5)),l=n(7),s=n(232),u=r.a.forwardRef(function(e,t){var n,i=e.classes,l=e.className,u=e.component,d=void 0===u?"li":u,m=e.disableGutters,p=void 0!==m&&m,b=e.role,f=void 0===b?"menuitem":b,v=e.selected,g=e.tabIndex,E=Object(a.a)(e,["classes","className","component","disableGutters","role","selected","tabIndex"]);return e.disabled||(n=void 0!==g?g:-1),r.a.createElement(s.a,Object(o.a)({button:!0,role:f,tabIndex:n,component:d,selected:v,disableGutters:p,classes:{dense:i.dense},className:Object(c.a)(i.root,l,v&&i.selected,!p&&i.gutters),ref:t},E))});t.a=Object(l.a)(function(e){return{root:Object(o.a)({},e.typography.subtitle1,{minHeight:48,paddingTop:4,paddingBottom:4,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"}),gutters:{paddingLeft:16,paddingRight:16},selected:{},dense:{minHeight:"auto"}}},{name:"MuiMenuItem"})(u)},232:function(e,t,n){"use strict";var a=n(1),o=n(4),i=n(0),r=n.n(i),c=(n(6),n(5)),l=n(7),s=n(80),u=n(13),d=n(168),m=n(15),p=n.n(m),b=(n(9),"undefined"===typeof window?r.a.useEffect:r.a.useLayoutEffect),f=r.a.forwardRef(function(e,t){var n=e.alignItems,i=void 0===n?"center":n,l=e.autoFocus,m=void 0!==l&&l,f=e.button,v=void 0!==f&&f,g=e.children,E=e.classes,j=e.className,h=e.component,O=e.ContainerComponent,C=void 0===O?"li":O,x=e.ContainerProps,y=(x=void 0===x?{}:x).className,w=Object(o.a)(x,["className"]),S=e.dense,k=e.disabled,I=void 0!==k&&k,N=e.disableGutters,T=void 0!==N&&N,D=e.divider,F=void 0!==D&&D,G=e.focusVisibleClassName,P=e.selected,R=void 0!==P&&P,L=Object(o.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),V=r.a.useContext(d.a),A={dense:S||V.dense||!1,alignItems:i},B=r.a.useRef(null);b(function(){m&&B.current&&B.current.focus()},[m]);var M=r.a.Children.toArray(g),$=M.length&&Object(u.a)(M[M.length-1],["ListItemSecondaryAction"]),z=r.a.useCallback(function(e){B.current=p.a.findDOMNode(e)},[]),U=Object(u.c)(z,t),H=Object(a.a)({className:Object(c.a)(E.root,j,A.dense&&E.dense,!T&&E.gutters,F&&E.divider,I&&E.disabled,v&&E.button,"center"!==i&&E.alignItemsFlexStart,$&&E.secondaryAction,R&&E.selected),disabled:I},L),J=h||"li";return v&&(H.component=h||"div",H.focusVisibleClassName=Object(c.a)(E.focusVisible,G),J=s.a),$?(J=H.component||h?J:"div","li"===C&&("li"===J?J="div":"li"===H.component&&(H.component="div")),r.a.createElement(d.a.Provider,{value:A},r.a.createElement(C,Object(a.a)({className:Object(c.a)(E.container,y),ref:U},w),r.a.createElement(J,H,M),M.pop()))):r.a.createElement(d.a.Provider,{value:A},r.a.createElement(J,Object(a.a)({ref:U},H),M))});t.a=Object(l.a)(function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(f)},289:function(e,t,n){"use strict";n.r(t);var a=n(47),o=n(53),i=n(0),r=n.n(i),c=n(174),l=n.n(c),s=n(178),u=n(155),d=n(150),m=n(35),p=n(32),b=n(55),f=n(180),v=n(182),g=n(279),E=n(294),j=n(287),h=n(288),O=n(231),C=n(183),x=["private","protected","public"],y={private:"\u79c1\u6709",protected:"\u4e0d\u516c\u958b",public:"\u516c\u958b"},w=function(e){var t=e.value,n=e.onFormChange,o=e.open,i=e.onClose,c=e.onSubmit,l=function(e){return function(o){return n(Object(v.a)({},t,Object(a.a)({},e,o.target.value)))}};return r.a.createElement(C.a,{message:"\u65b0\u589e\u7d44\u7e54",confirmText:"\u65b0\u589e",cancelText:"\u53d6\u6d88",open:o,onClose:i,onSubmit:c},r.a.createElement(u.a,{display:"flex",flexDirection:"column"},r.a.createElement(u.a,{mt:1},r.a.createElement(j.a,{autoFocus:!0,fullWidth:!0,label:"\u7d44\u7e54\u540d\u7a31",value:t.name,onChange:l("name"),required:!0})),r.a.createElement(u.a,{mt:1},r.a.createElement(g.a,{fullWidth:!0},r.a.createElement(E.a,{htmlFor:"permission"},"\u6b0a\u9650"),r.a.createElement(h.a,{value:t.permission,onChange:l("permission"),inputProps:{id:"permission"}},x.map(function(e,t){return r.a.createElement(O.a,{key:t,value:e},y[e])}))))))},S=n(48),k=n(120),I=n(282),N=n(283),T=n(284),D=n(149),F=n(22),G=Object(k.a)(function(e){return{content:{marginLeft:e.spacing(10),marginRight:e.spacing(10)}}}),P=function(e){var t=e.group,n=G();return r.a.createElement(I.a,null,r.a.createElement(N.a,{className:n.content},r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name)),r.a.createElement(u.a,{display:"flex",justifyContent:"center"},r.a.createElement(T.a,null,r.a.createElement(D.a,{size:"small",color:"primary",component:S.b,to:Object(F.b)({id:t.id})},"\u9032\u5165\u7d44\u7e54"))))},R=function(){var e=Object(m.a)(),t=Object(p.a)(),n=Object(i.useState)(!1),c=Object(o.a)(n,2),v=c[0],g=c[1],E=Object(i.useState)({name:"\u672a\u547d\u540d",permission:"private"}),j=Object(o.a)(E,2),h=j[0],O=j[1],C=Object(i.useState)(!0),x=Object(o.a)(C,2),y=x[0],S=x[1],k=Object(i.useState)(null),I=Object(o.a)(k,2),N=I[0],T=I[1],D=Object(i.useState)([]),F=Object(o.a)(D,2),G=F[0],R=F[1],L=function(){O({name:"\u672a\u547d\u540d",permission:"private"}),g(!1)};return Object(i.useEffect)(function(){var n=t.refUser({uid:e.uid}).child("groups");return n.on("value",function(e){if(!e.exists())return R([]),void S(!1);var n=Object.keys(e.val()).map(function(e){return t.refGroup({id:e}).once("value").then(function(e){return Promise.resolve(e.val())})});Promise.all(n).then(function(e){R(Object(s.a)(e,"createdTime")),y&&S(!1)})}),null===N&&T(n),function(){null!==N&&N.off()}},[N]),y?r.a.createElement(b.a,null):r.a.createElement(u.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",p:5},0!==G.length?G.map(function(e){return r.a.createElement(u.a,{key:e.id,m:2},r.a.createElement(P,{group:e}))}):r.a.createElement(u.a,{m:1},r.a.createElement(d.a,{variant:"h6"},"\u6c92\u6709\u7d44\u7e54")),r.a.createElement(f.a,{title:"\u65b0\u589e\u7d44\u7e54",onClick:function(){return g(!0)}}),r.a.createElement(w,{value:h,onFormChange:O,open:v,onClose:L,onSubmit:function(){var n=l()(),o="".concat(n,"_").concat(e.uid),i=(new Date).toString();t.refUser({uid:e.uid}).child("groups").update(Object(a.a)({},n,i)),t.refGroup({id:n}).set({id:n,createdTime:i,disableDelete:!1,disableRename:!1,permission:h.permission,name:h.name,users:Object(a.a)({},e.uid,i)}),t.refGroupUser({id:o}).set({id:o,groupId:n,uid:e.uid,joinedTime:i}),L()}}))};n.d(t,"default",function(){return R})}}]);
//# sourceMappingURL=6.b548f916.chunk.js.map