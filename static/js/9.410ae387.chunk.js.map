{"version":3,"sources":["components/SignInWithGoogle.js","pages/Login/Page.js","pages/Login/index.js"],"names":["SignInWithGoogle","props","onSuccess","onError","firebase","useFirebase","_useState","useState","_useState2","Object","slicedToArray","error","setError","react_default","a","createElement","Button","onClick","signInWithGoogle","then","catch","err","size","variant","color","message","defaultProps","Page","_useReactRouter","useReactRouter","history","location","redirectTo","URLSearchParams","search","get","HOME","auth","onAuthStateChanged","push","Box","display","justifyContent","alignItems","p","components_SignInWithGoogle","__webpack_require__","d","__webpack_exports__","Login_Page"],"mappings":"gLAKMA,EAAmB,SAACC,GAAU,IAC1BC,EAAuBD,EAAvBC,UAAWC,EAAYF,EAAZE,QACbC,EAAWC,cAFiBC,EAGRC,mBAAS,MAHDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAG3BK,EAH2BH,EAAA,GAGpBI,EAHoBJ,EAAA,GAgBlC,OACEK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,QAdmB,WAC7Bb,EACGc,mBACAC,KAAK,WACJP,EAAS,MACTV,MAEDkB,MAAM,SAACC,GACNT,EAASS,GACTlB,OAKuCmB,KAAK,QAAQC,QAAQ,WAAWC,MAAM,WAA/E,kCAGCb,GAAUE,EAAAC,EAAAC,cAAA,SAAIJ,EAAMc,WAU3BzB,EAAiB0B,aAAe,CAC9BxB,UAAW,aACXC,QAAS,cAGIH,QCdA2B,EApBF,WAAM,IAAAC,EACaC,MAAtBC,EADSF,EACTE,QAASC,EADAH,EACAG,SAEXC,EADQ,IAAIC,gBAAgBF,EAASG,QAClBC,IAAI,eAAiBC,IAK9C,OAJiB/B,cACRgC,KAAKC,mBAAmB,SAACD,GAC5BA,GAAMP,EAAQS,KAAKP,KAGvBnB,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CACEC,QAAQ,OACRC,eAAe,SACfC,WAAW,SACXC,EAAG,GAEH/B,EAAAC,EAAAC,cAAC8B,EAAD,QCtBNC,EAAAC,EAAAC,EAAA,4BAAAC","file":"static/js/9.410ae387.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport useFirebase from '../firebase/useFirebase'\n\nconst SignInWithGoogle = (props) => {\n  const { onSuccess, onError } = props\n  const firebase = useFirebase()\n  const [error, setError] = useState(null)\n  const handleSignInWithGoogle = () => {\n    firebase\n      .signInWithGoogle()\n      .then(() => {\n        setError(null)\n        onSuccess()\n      })\n      .catch((err) => {\n        setError(err)\n        onError()\n      })\n  }\n  return (\n    <div>\n      <Button onClick={handleSignInWithGoogle} size=\"large\" variant=\"outlined\" color=\"primary\">\n        登入或註冊\n      </Button>\n      {error && (<p>{error.message}</p>)}\n    </div>\n  )\n}\n\nSignInWithGoogle.propTypes = {\n  onSuccess: PropTypes.func,\n  onError: PropTypes.func\n}\n\nSignInWithGoogle.defaultProps = {\n  onSuccess: () => {},\n  onError: () => {}\n}\n\nexport default SignInWithGoogle\n","import React from 'react'\nimport useReactRouter from 'use-react-router'\nimport Box from '@material-ui/core/Box'\nimport useFirebase from '../../firebase/useFirebase'\nimport { HOME } from '../pathnames'\nimport SignInWithGoogle from '../../components/SignInWithGoogle'\n\nconst Page = () => {\n  const { history, location } = useReactRouter()\n  const query = new URLSearchParams(location.search)\n  const redirectTo = query.get('redirectTo') || HOME\n  const firebase = useFirebase()\n  firebase.auth.onAuthStateChanged((auth) => {\n    if (auth) history.push(redirectTo)\n  })\n  return (\n    <Box\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      p={5}\n    >\n      <SignInWithGoogle />\n    </Box>\n  )\n}\n\nexport default Page\n","export { default } from './Page'\n"],"sourceRoot":""}